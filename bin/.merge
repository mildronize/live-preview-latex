#!/bin/bash
# from http://tex.stackexchange.com/questions/27878/pdflatex-bash-script-to-supress-all-output-except-error-messages
ARGUMENT="$1"
#determine aux name by stripping .tex suffix and adding .aux
AUXNAME="${ARGUMENT%.tex}.aux"

pdflatex='pdflatex -shell-escape -interaction=nonstopmode -file-line-error '$ARGUMENT
bibtex='bibtex -terse '$AUXNAME
($pdflatex && $bibtex && $pdflatex && $pdflatex) | grep ".*:[0-9]*:.*"

exit ${PIPESTATUS[0]}
